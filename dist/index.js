!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.LazyLoadYouTube=e():t.LazyLoadYouTube=e()}(self,(function(){return function(){"use strict";var t={249:function(t,e,o){o.r(e)},445:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.LazyLoadYouTube=void 0;const i=o(574),r={buttonContent:'\n        <svg height="100%" viewBox="0 0 68 48" width="100%" fill="#000">\n            <path\n            d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z">\n            </path>\n            <path d="M 45,24 27,14 27,34" fill="#fff"></path>\n        </svg>',customBackgroundQuality:i.BackgroundQuality.HQ_DEFAULT};e.LazyLoadYouTube=class{constructor(t,e){this.options=Object.assign(Object.assign({},r),e),this.videoItem=document.querySelectorAll(t),this.init()}init(){this.videoItem.length&&(this.showVideoInfo(),this.listeners(),this.stopVideoPlay=this.stopVideoPlay.bind(this))}showVideoInfo(){this.videoItem.forEach((t=>{const e=t.getAttribute("data-youtube-video-link"),o=e&&this.youtubeParser(e);t.querySelector("[data-youtube-video-button]"),o&&(t.setAttribute("data-youtube-video-id",o),this.isBgImage(t,o),this.setVideoButton(t))}))}setVideoButton(t){const e=t.querySelector("[data-youtube-video-button]");e&&(e.innerHTML="string"==typeof this.options.buttonContent?this.options.buttonContent:r.buttonContent)}listeners(){this.videoItem.forEach((t=>{null==t||t.addEventListener("click",(e=>this.playVideo(e,t)))}))}playVideo(t,e){t.preventDefault(),this.stopVideoPlay();const o=e.getAttribute("data-youtube-video-link"),i=o&&this.youtubeParser(o);if(e.setAttribute("data-youtube-video-active","true"),this.hideChildrenElement(e),i){const t=this.createIframe(i,1);e.appendChild(t),this.options.onPlay&&this.options.onPlay(e)}}stopVideoPlay(){const t=document.querySelectorAll('[data-youtube-video-active="true"]');t.length&&t.forEach((t=>{const e=t,o=e.querySelector("iframe");null==o||o.remove(),this.showChildrenElement(e)}))}hideChildrenElement(t){t&&Array.from(t.children).forEach((t=>{t.setAttribute("data-youtube-video-item","true"),t.style.cssText="opacity: 0; visibility: hidden;"}))}showChildrenElement(t){t&&Array.from(t.children).forEach((t=>{t.getAttribute("data-youtube-video-item")&&(t.removeAttribute("style"),t.removeAttribute("data-youtube-video-item"))}))}youtubeParser(t){const e=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return null!==e&&11===e[7].length?e[7]:t}isBgImage(t,e){if(!t.getAttribute("style")){const o=`https://i.ytimg.com/vi/${e}/${this.options.customBackgroundQuality&&Object.values(i.BackgroundQuality).includes(this.options.customBackgroundQuality)?this.options.customBackgroundQuality:r.customBackgroundQuality}.jpg`;t.style.backgroundImage=`url(${o})`}}createIframe(t,e){const o=document.createElement("iframe");return o.setAttribute("allowfullscreen",""),o.setAttribute("frameborder","0"),o.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),o.setAttribute("title","YouTube video player"),o.setAttribute("src",this.generateUrl(t,e)),o}generateUrl(t,e){return`https://www.youtube.com/embed/${t}?rel=0&showinfo=0&autoplay=${e}`}createOverlay(t){const e=document.createElement("div");e.classList.add("YouTubeVideoOverlay"),t.appendChild(e)}}},102:function(t,e){var o;Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundQuality=void 0,function(t){t.HQ_DEFAULT="hqdefault",t.MQ_DEFAULT="mqdefault",t.SD_DEFAULT="sddefault",t.MAX_RES_DEFAULT="maxresdefault"}(o||(e.BackgroundQuality=o={}))},574:function(t,e,o){var i=this&&this.__createBinding||(Object.create?function(t,e,o,i){void 0===i&&(i=o);var r=Object.getOwnPropertyDescriptor(e,o);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(t,i,r)}:function(t,e,o,i){void 0===i&&(i=o),t[i]=e[o]}),r=this&&this.__exportStar||function(t,e){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(e,o)||i(e,t,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(o(102),e)}},e={};function o(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,o),n.exports}o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return function(){var t=i;o(249);const e=o(445);t.default=e.LazyLoadYouTube}(),i.default}()}));