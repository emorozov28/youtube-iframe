!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LazyLoadYouTube=t():e.LazyLoadYouTube=t()}(self,(function(){return function(){"use strict";var e={811:function(e,t,o){function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.r(t),o.d(t,{default:function(){return c}});var a=function(){function e(t,o){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=r(r({},{button:'\n            <svg height="100%" viewBox="0 0 68 48" width="100%" fill="#000">\n                <path\n                d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z">\n                </path>\n                <path d="M 45,24 27,14 27,34" fill="#fff"></path>\n            </svg>',imageBg:!0,qualityBg:"hqdefault"}),o),this.buttonLabel=null!==(n=this.options.buttonLabel)&&void 0!==n?n:"Play video",this.selector=t,this.stopVideoBtn=document.querySelectorAll(".js-video-stop"),this.captionText=[],this.init()}var t;return(t=[{key:"init",value:function(){var e=this,t=document.querySelectorAll(this.selector);!t||t.length?(this.selector=t,this.selector.forEach((function(t){var o=t.getAttribute("data-video-link"),n=e.youtubeParser(o),r=t.querySelector(".js-video-play");r.innerHTML=!1!==e.options.button?e.options.button:null,r.setAttribute("aria-label",e.buttonLabel),e.isBgImage(t,n),t.addEventListener("click",(function(o){t.querySelector(".video__caption")?e.captionText.push(t.querySelector(".js-video-caption").textContent):e.captionText.push(null),e.selector.forEach((function(t){if(t.querySelector("iframe")){t.querySelector("iframe").remove();var o=e.captionText[e.captionText.length-2],n='\n                        <button class="video__play js-video-play" aria-label="'.concat(e.buttonLabel,'">').concat(e.options.button,"</button>\n                        ").concat(null!==o?'<span class="video__caption js-video-caption">'.concat(o,"</span>"):"","\n                    ");t.innerHTML=n}})),o.preventDefault();var r=e.createIframe(n,1);t.appendChild(r),t.querySelector(".js-video-play")&&t.querySelector(".js-video-play").remove(),t.querySelector(".js-video-caption")&&t.querySelector(".js-video-caption").remove()}))}))):console.error('Selector "'.concat(this.selector,'" not found'))}},{key:"stopVideo",value:function(){var e=this;this.stopVideoBtn&&this.stopVideoBtn.forEach((function(t){t.addEventListener("click",(function(){e.selector.forEach((function(t){if(t.querySelector(".video__caption")?e.captionText.push(t.querySelector(".js-video-caption").textContent):e.captionText.push(null),t.querySelector("iframe")){t.querySelector("iframe").remove();var o=e.captionText[e.captionText.length-2],n='\n                        <button class="video__play js-video-play" aria-label="'.concat(e.buttonLabel,'">').concat(e.options.button,"</button>\n                        ").concat(null!==o?'<span class="video__caption js-video-caption">'.concat(o,"</span>"):"","\n                    ");t.innerHTML=n}}))}))}))}},{key:"youtubeParser",value:function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return null!==t?!(!t||11!=t[7].length)&&t[7]:e}},{key:"generateUrl",value:function(e,t){var o="?rel=0&showinfo=0&autoplay=".concat(t);return"https://www.youtube.com/embed/".concat(e).concat(o)}},{key:"createIframe",value:function(e,t){var o=document.createElement("iframe");return o.setAttribute("allowfullscreen",""),o.setAttribute("frameborder",0),o.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),o.setAttribute("title","YouTube video player"),o.setAttribute("src",this.generateUrl(e,t)),o}},{key:"isBgImage",value:function(e,t){if(this.options.imageBg){if(!e.hasAttribute("style")&&this.options.imageBg){var o="https://i.ytimg.com/vi/".concat(t,"/").concat(this.options.qualityBg,".jpg");e.style.backgroundImage="url(".concat(o,")")}}else e.removeAttribute("style")}}])&&function(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();window.LazyLoadYouTube=a;var c=a}},t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}return o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(811)}()}));