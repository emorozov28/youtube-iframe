"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var LazyYouTubeLoad=function(){function e(t,n){var o=n.button,r=void 0===o?null:o,a=n.bgImage,i=void 0===a||a,c=n.qualityBg,l=void 0===c?"hqdefault":c;_classCallCheck(this,e),this.selector=t,this.qualityBg=l,this.button=r,this.bgImage=i,this.captionText=[],this.init()}return _createClass(e,[{key:"init",value:function(){var e=this,t=document.querySelectorAll(this.selector);if(t&&0===t.length)throw new Error('Selector "'.concat(this.selector,'" not found'));t.forEach(function(n){var o=n.getAttribute("data-video-link"),r="https://youtu.be/".length,a=o.substring(r,o.length);n.querySelector(".video-play").innerHTML=e.button,e.isBgImage(n,a),n.addEventListener("click",function(o){n.querySelector(".video-caption")?e.captionText.push(n.querySelector(".video-caption").textContent):e.captionText.push(null),t.forEach(function(t){if(t.querySelector("iframe")){t.querySelector("iframe").remove();var n=e.captionText[e.captionText.length-2],o='\n                            <button class="btn-video-play video-play">'.concat(e.button,"</button>\n                            ").concat(null!==n?'<span class="video-caption">'.concat(n,"</span>"):"","\n                        ");t.innerHTML=o}}),o.preventDefault();var r=e.createIframe(a,1);n.appendChild(r),n.querySelector(".video-play")&&n.querySelector(".video-play").remove(),n.querySelector(".video-caption")&&n.querySelector(".video-caption").remove()})})}},{key:"generateUrl",value:function(e,t){var n="?rel=0&showinfo=0&autoplay=".concat(t);return"https://www.youtube.com/embed/".concat(e).concat(n)}},{key:"createIframe",value:function(e,t){var n=document.createElement("iframe");return n.setAttribute("allowfullscreen",""),n.setAttribute("allow","autoplay; encrypted-media"),n.setAttribute("src",this.generateUrl(e,t)),n}},{key:"isBgImage",value:function(e,t){if(this.bgImage){var n="https://i.ytimg.com/vi/".concat(t,"/").concat(this.qualityBg,".jpg");e.style.backgroundImage="url(".concat(n,")")}else e.removeAttribute("style")}}]),e}();